using System;
using System.Text;

class Program
{
    static void Main()
    {
        Console.OutputEncoding = Encoding.UTF8;

        int Vida = 100;
        int Ouro = 0;
        int Kunais = 5;
        int Pergaminhos = 0;
        bool Amuleto = false;
        bool porcaoCura = false;
        bool Jogando = true;
        Random sorteador = new Random();

        string Ninja = "Hayato";

        string[] descMonstro = {
            "ğŸŒ«ï¸ O silÃªncio Ã© quebrado por passos leves nas sombras...",
            "ğŸŒ’ Uma nÃ©voa fria rasteja pelo chÃ£o, trazendo presenÃ§as inquietas.",
            "ğŸ•¯ï¸ VocÃª sente olhares invisÃ­veis observando cada movimento.",
            "ğŸŒ‘ O vento sopra, carregando sussurros de antigos lamentos."
        };

        string[] descBoss = {
            "ğŸ’€ O ar fica pesado. Uma presenÃ§a ancestral emerge das trevas.",
            "ğŸ‘‘ O chÃ£o treme. VocÃª sente que estÃ¡ diante de algo que desafia a prÃ³pria morte.",
            "ğŸŒ‘ Um frio espectral envolve tudo. O tempo parece parar diante do horror.",
            "ğŸ•¸ï¸ Sussurros antigos ecoam. VocÃª encara o guardiÃ£o das sombras."
        };

        string[] nomesMonstros = { "Sombrafera ğŸŒ‘", "Besta Abissal ğŸ¾", "CaÃ§ador Noturno ğŸŒ’", "Venenogar ğŸ" };
        int[] vidaMonstros = { 32, 22, 20, 24 };
        int[] danoMonstros = { 24, 20, 22, 28 };

        string[] nomesBosses = { "FÃºriachama da Mata ğŸ”¥", "Devorador de Almas ğŸŒ²" };
        int[] vidaBosses = { 70, 80 };
        int[] danoBosses = { 36, 40 };

        while (Jogando && Vida > 0) {
            Console.Clear();
            Console.WriteLine("-------------------------------------------------------");
            Console.WriteLine("        ğŸ¥· HAYATO - O NINJA SOLITÃRIO âœ¨        ");
            Console.WriteLine("-------------------------------------------------------");
            Console.WriteLine($"ğŸ‘¤ Ninja: {Ninja}    ğŸ… NÃ­vel: {(Ouro / 50 + 1)}");
            Console.WriteLine($"â¤ï¸ Vida: {Vida}/100    ğŸ’° Ouro: {Ouro}");
            Console.WriteLine($"ğŸ—¡ï¸ Kunais: {Kunais}        ğŸ“œ Pergaminhos: {Pergaminhos}");
            Console.WriteLine($"ğŸ§¿ Amuleto: {(Amuleto ? "Sim" : "NÃ£o")}     ğŸ§ª PoÃ§Ã£o: {(porcaoCura ? "Sim" : "NÃ£o")}");
            Console.WriteLine("-------------------------------------------------------\n");

            Console.WriteLine("**************** ğŸŒ² FLORESTA SOMBRIA ğŸŒ² ******************");
            Console.WriteLine(" 1ï¸âƒ£  Aventurar-se na floresta (feras, sombras e venenos)");
            Console.WriteLine(" 2ï¸âƒ£  Visitar o mercador viajante ğŸšï¸");
            Console.WriteLine(" 0ï¸âƒ£  Sair e meditar ğŸŒ“");
            Console.WriteLine("***********************************************************");
            Console.Write("ğŸ‘‰ Escolha sua aÃ§Ã£o: ");

            string acao = Console.ReadLine();

            if (acao == "1") {
                Console.Clear();
                bool encontrouBoss = sorteador.Next(100) < 30;

                string nomeDoInimigo;
                int vidaDoInimigo, danoDoInimigo;
                string descricaoSombria;

                if (encontrouBoss) {
                    int idx = sorteador.Next(nomesBosses.Length);
                    nomeDoInimigo = nomesBosses[idx];
                    vidaDoInimigo = vidaBosses[idx];
                    danoDoInimigo = danoBosses[idx];
                    descricaoSombria = descBoss[sorteador.Next(descBoss.Length)];
                } else {
                    int idx = sorteador.Next(nomesMonstros.Length);
                    nomeDoInimigo = nomesMonstros[idx];
                    vidaDoInimigo = vidaMonstros[idx];
                    danoDoInimigo = danoMonstros[idx];
                    descricaoSombria = descMonstro[sorteador.Next(descMonstro.Length)];
                }

                Console.WriteLine($"\n{descricaoSombria}\n");
                Console.WriteLine(encontrouBoss
                    ? "\nğŸ‘‘ Chefe encontrado! Uma batalha desafiadora comeÃ§a!\n"
                    : "\nğŸ‘¾ Um inimigo apareceu! Que comecem os ataques!\n");

                bool fugiu = false;
                while (Vida > 0 && vidaDoInimigo > 0 && !fugiu) {
                    Console.WriteLine("-------------------------------------------------------");
                    Console.WriteLine($"ğŸ‘¹ Inimigo: {nomeDoInimigo}");
                    Console.WriteLine($"ğŸ’” Vida do Inimigo: {vidaDoInimigo} | â¤ï¸ Vida do Ninja: {Vida}");
                    Console.WriteLine("-------------------------------------------------------");
                    Console.WriteLine(" 1ï¸âƒ£  Espada (10-14 dano) âš”ï¸");
                    Console.WriteLine($" 2ï¸âƒ£  Kunai (13-17 dano) ğŸ—¡ï¸  | Kunais: {Kunais}");
                    Console.WriteLine(" 3ï¸âƒ£  Fugir ğŸƒâ€â™‚ï¸");
                    if (porcaoCura) Console.WriteLine("4ï¸âƒ£  Usar PoÃ§Ã£o ğŸ§ª (+20 vida)");
                    Console.Write("ğŸ‘‰ Sua aÃ§Ã£o: ");
                    string escolha = Console.ReadLine();
                    int danoCausado = 0;
                    if (escolha == "1") {
                        danoCausado = 10 + sorteador.Next(5);
                        vidaDoInimigo -= danoCausado;
                        Console.WriteLine($"\nâš”ï¸ VocÃª ataca com a espada! {danoCausado} de dano. ğŸ’¥");
                    } else if (escolha == "2") {
                        if (Kunais > 0) {
                            Kunais--;
                            danoCausado = 13 + sorteador.Next(5);
                            vidaDoInimigo -= danoCausado;
                            Console.WriteLine($"\nğŸ—¡ï¸ Kunai lanÃ§ada! {danoCausado} de dano. Kunais restantes: {Kunais} ğŸ¯");
                        } else {
                            Console.WriteLine("\nâš ï¸ VocÃª tenta lanÃ§ar uma kunai, mas estÃ¡ sem estoque! ğŸ˜±");
                            Console.WriteLine("Pressione qualquer tecla para continuar...");
                            Console.ReadKey();
                            continue;
                        }
                    } else if (escolha == "3") {
                        Console.WriteLine("\nğŸƒâ€â™‚ï¸ Hayato lanÃ§a uma bomba de fumaÃ§a e foge para as sombras! ğŸ’¨");
                        fugiu = true;
                        break;
                    } else if (escolha == "4" && porcaoCura) {
                        Vida = Math.Min(Vida + 20, 100);
                        porcaoCura = false;
                        Console.WriteLine("\nğŸ§ª VocÃª bebe a poÃ§Ã£o e sente suas forÃ§as voltarem! ğŸ’š");
                        Console.WriteLine("Pressione qualquer tecla para continuar...");
                        Console.ReadKey();
                        continue;
                    } else {
                        Console.WriteLine("\nâŒ Escolha invÃ¡lida! Digite o nÃºmero da aÃ§Ã£o desejada. ğŸ¤”");
                        Console.WriteLine("Pressione qualquer tecla para continuar...");
                        Console.ReadKey();
                        continue;
                    }

                    if (vidaDoInimigo > 0) {
                        int danoRecebido = sorteador.Next(danoDoInimigo - 2, danoDoInimigo + 3);
                        if (Amuleto && sorteador.Next(100) < 40) {
                            danoRecebido /= 2;
                            Console.WriteLine($"ğŸ§¿ O amuleto brilha e dissipa parte do ataque! Dano reduzido para {danoRecebido} ğŸ›¡ï¸");
                        }
                        Vida -= danoRecebido;
                        Console.WriteLine($"\nğŸ’¢ {nomeDoInimigo} ataca! Hayato sofre {danoRecebido} de dano. ğŸ˜–");
                    }

                    if (Vida <= 0) {
                        Console.WriteLine("\nğŸ’€ Hayato cai, mas sua lenda ecoa pelos ventos do oriente! ğŸª¶");
                        break;
                    }

                    if (vidaDoInimigo <= 0) {
                        int ouroGanho = encontrouBoss ? 40 : 10;
                        int kunaisGanhas = encontrouBoss ? 2 : 1;
                        int pergaminhosGanhos = encontrouBoss ? 2 : 1;

                        Console.WriteLine("\nğŸ… VitÃ³ria! VocÃª ganhou:\n");
                        Console.WriteLine($"ğŸª™ {ouroGanho}  ouro");
                        Console.WriteLine($"ğŸ—¡ï¸ {kunaisGanhas} kunai(s)");
                        Console.WriteLine($"ğŸ“œ {pergaminhosGanhos} pergaminho(s)");
                        if (encontrouBoss) {
                            Console.WriteLine("ğŸ‘‘ Um BOSS caiu diante de vocÃª! ParabÃ©ns, guerreiro! ğŸ¥·");
                        } else {
                            Console.WriteLine("âœ¨ Mais um obstÃ¡culo superado! Continue assim! ğŸ’ª");
                        }

                        Ouro += ouroGanho;
                        Kunais += kunaisGanhas;
                        Pergaminhos += pergaminhosGanhos;
                        break;
                    }
                    Console.WriteLine("\n-------------------------------------------------------");
                    Console.WriteLine("ğŸ”„ Pressione qualquer tecla para continuar...");
                    Console.ReadKey();
                    Console.Clear();
                }
            } else if (acao == "2") {
                Console.WriteLine("\nğŸª VocÃª encontra o mercador viajante em uma cabana escondida:\n");
                Console.WriteLine(" 1ï¸âƒ£  Vender Pergaminhos (7 ouro cada)");
                Console.WriteLine(" 2ï¸âƒ£  Comprar Kunai (8 ouro cada)");
                Console.WriteLine(" 3ï¸âƒ£  Comprar Amuleto (30 ouro)");
                Console.WriteLine(" 4ï¸âƒ£  Comprar PoÃ§Ã£o (18 ouro)");
                Console.WriteLine(" 0ï¸âƒ£  Voltar Ã  jornada");

                string loja = Console.ReadLine();

                if (loja == "1")
                {
                    if (Pergaminhos > 0)
                    {
                        int valor = Pergaminhos * 7;
                        Ouro += valor;
                        Console.WriteLine($"\nğŸ’° O mercador viajante paga {valor} ouro por {Pergaminhos} pergaminhos.");
                        Pergaminhos = 0;
                    } else Console.WriteLine("\nâŒ VocÃª nÃ£o tem pergaminhos para vender.");
                } else if (loja == "2") {
                    if (Ouro >= 8) {
                        Kunais++;
                        Ouro -= 8;
                        Console.WriteLine("\nğŸ—¡ï¸ VocÃª comprou 1 kunai!");
                    } else {
                        Console.WriteLine("\nâŒ Ouro insuficiente!");
                    }
                } else if (loja == "3") {
                    if (!Amuleto) {
                        if (Ouro >= 30) {
                            Amuleto = true;
                            Ouro -= 30;
                            Console.WriteLine("\nğŸ§¿ VocÃª recebe um amuleto protetor, sÃ­mbolo de proteÃ§Ã£o dos antigos.");
                        } else Console.WriteLine("\nâŒ Ouro insuficiente!");
                    } else Console.WriteLine("\nğŸ§¿ VocÃª jÃ¡ possui um amuleto protetor.");
                }
                else if (loja == "4") {
                    if (!porcaoCura) {
                        if (Ouro >= 18) {
                            porcaoCura = true;
                            Ouro -= 18;
                            Console.WriteLine("\nğŸµ O mercador viajante entrega uma poÃ§Ã£o feita de ervas raras.");
                        } else Console.WriteLine("\nâŒ Ouro insuficiente!");
                    } else Console.WriteLine("\nğŸµ VocÃª jÃ¡ tem uma poÃ§Ã£o.");
                }
            } else if (acao == "0") {
                Jogando = false;
                Console.WriteLine("\nğŸŒ™ Hayato se senta sob a lua, medita e agradece por mais uma noite de aventuras.");
            } else {
                Console.WriteLine("\nâŒ O vento sopra, esperando uma escolha vÃ¡lida...");
            }

            Console.WriteLine("\n-------------------------------------------------------");
            Console.WriteLine("ğŸ”„ Pressione qualquer tecla para continuar...");
            Console.ReadKey();
        }

        Console.Clear();
        Console.WriteLine("-------------------------------------------------------");
        if (Vida <= 0) {
            Console.WriteLine("ğŸ’€ Hayato descansa. Sua lenda continua no vento! ğŸª¶");
        } else {
            Console.WriteLine("ğŸŒ„ O sol nasce, e Hayato parte para novas aventuras! ğŸ¥·ğŸŒ");
            Console.WriteLine("-------------------------------------------------------");
        }
    }
}
